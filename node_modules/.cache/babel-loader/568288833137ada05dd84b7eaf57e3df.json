{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nconst useLocationBlocker = () => {\n  _s();\n\n  /** \r\n   * Prevents react-router from pushing the same\r\n   * page to the history twice which leads to\r\n   * multiple clicks on the back icon of the browser\r\n   * being necessary to go back into the history.\r\n  */\n  const history = useHistory();\n  useEffect(() => history.block((location, action) => action !== \"PUSH\" || getLocationId(location) !== getLocationId(history.location)), [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n};\n\n_s(useLocationBlocker, \"bz2N+u0mX89LO9zOCfVCA9Sa20M=\", false, function () {\n  return [useHistory];\n});\n\nconst getLocationId = ({\n  pathname,\n  search,\n  hash\n}) => {\n  return pathname + (search ? \"?\" + search : \"\") + (hash ? \"#\" + hash : \"\");\n};\n\nexport default useLocationBlocker;","map":{"version":3,"sources":["C:/ms_blog/mainProject/F4/src/shared/functions/useLocationBlocker.js"],"names":["useHistory","useEffect","useLocationBlocker","history","block","location","action","getLocationId","pathname","search","hash"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,QAA0B,OAA1B;;AAGA,MAAMC,kBAAkB,GAAG,MAAM;AAAA;;AAC/B;AACF;AACA;AACA;AACA;AACA;AACE,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACAC,EAAAA,SAAS,CACP,MACEE,OAAO,CAACC,KAAR,CACE,CAACC,QAAD,EAAWC,MAAX,KACEA,MAAM,KAAK,MAAX,IACAC,aAAa,CAACF,QAAD,CAAb,KAA4BE,aAAa,CAACJ,OAAO,CAACE,QAAT,CAH7C,CAFK,EAOP,EAPO,CAOJ;AAPI,GAAT;AASD,CAjBD;;GAAMH,kB;UAOYF,U;;;AAYlB,MAAMO,aAAa,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,MAAZ;AAAoBC,EAAAA;AAApB,CAAD,KAAgC;AACpD,SAAOF,QAAQ,IAAIC,MAAM,GAAG,MAAMA,MAAT,GAAkB,EAA5B,CAAR,IAA2CC,IAAI,GAAG,MAAMA,IAAT,GAAgB,EAA/D,CAAP;AACD,CAFD;;AAIA,eAAeR,kBAAf","sourcesContent":["import { useHistory } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\n\r\n\r\nconst useLocationBlocker = () => {\r\n  /** \r\n   * Prevents react-router from pushing the same\r\n   * page to the history twice which leads to\r\n   * multiple clicks on the back icon of the browser\r\n   * being necessary to go back into the history.\r\n  */\r\n  const history = useHistory();\r\n  useEffect(\r\n    () =>\r\n      history.block(\r\n        (location, action) =>\r\n          action !== \"PUSH\" ||\r\n          getLocationId(location) !== getLocationId(history.location)\r\n      ),\r\n    [] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n}\r\n\r\nconst getLocationId = ({ pathname, search, hash }) => {\r\n  return pathname + (search ? \"?\" + search : \"\") + (hash ? \"#\" + hash : \"\");\r\n}\r\n\r\nexport default useLocationBlocker;"]},"metadata":{},"sourceType":"module"}