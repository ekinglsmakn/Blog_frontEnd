{"ast":null,"code":"const fetchIpData = new Promise((resolve, reject) => {\n  const ajax = new XMLHttpRequest();\n\n  if (window.location.href.includes(\"localhost\")) {\n    /**\r\n     *  Resolve with dummydata, GET call will be rejected,\r\n     *  since ipinfos server is configured that way\r\n     */\n    resolve({\n      data: {\n        country: \"DE\"\n      }\n    });\n    return;\n  }\n\n  ajax.open(\"GET\", \"https://ipinfo.io/json\");\n\n  ajax.onload = () => {\n    const response = JSON.parse(ajax.responseText);\n\n    if (response) {\n      resolve(response);\n    } else {\n      reject();\n    }\n  };\n\n  ajax.onerror = reject;\n  ajax.send();\n});\nexport default fetchIpData;","map":{"version":3,"sources":["C:/ms_blog/mainProject/F4/src/logged_out/components/cookies/fetchIpData.js"],"names":["fetchIpData","Promise","resolve","reject","ajax","XMLHttpRequest","window","location","href","includes","data","country","open","onload","response","JSON","parse","responseText","onerror","send"],"mappings":"AAAA,MAAMA,WAAW,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACnD,QAAMC,IAAI,GAAG,IAAIC,cAAJ,EAAb;;AACA,MAAIC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,QAArB,CAA8B,WAA9B,CAAJ,EAAgD;AAC9C;AACJ;AACA;AACA;AACIP,IAAAA,OAAO,CAAC;AAAEQ,MAAAA,IAAI,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX;AAAR,KAAD,CAAP;AACA;AACD;;AACDP,EAAAA,IAAI,CAACQ,IAAL,CAAU,KAAV,EAAiB,wBAAjB;;AACAR,EAAAA,IAAI,CAACS,MAAL,GAAc,MAAM;AAClB,UAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWZ,IAAI,CAACa,YAAhB,CAAjB;;AACA,QAAIH,QAAJ,EAAc;AACZZ,MAAAA,OAAO,CAACY,QAAD,CAAP;AACD,KAFD,MAEO;AACLX,MAAAA,MAAM;AACP;AACF,GAPD;;AAQAC,EAAAA,IAAI,CAACc,OAAL,GAAef,MAAf;AACAC,EAAAA,IAAI,CAACe,IAAL;AACD,CArBmB,CAApB;AAuBA,eAAenB,WAAf","sourcesContent":["const fetchIpData = new Promise((resolve, reject) => {\r\n  const ajax = new XMLHttpRequest();\r\n  if (window.location.href.includes(\"localhost\")) {\r\n    /**\r\n     *  Resolve with dummydata, GET call will be rejected,\r\n     *  since ipinfos server is configured that way\r\n     */\r\n    resolve({ data: { country: \"DE\" } });\r\n    return;\r\n  }\r\n  ajax.open(\"GET\", \"https://ipinfo.io/json\");\r\n  ajax.onload = () => {\r\n    const response = JSON.parse(ajax.responseText);\r\n    if (response) {\r\n      resolve(response);\r\n    } else {\r\n      reject();\r\n    }\r\n  };\r\n  ajax.onerror = reject;\r\n  ajax.send();\r\n});\r\n\r\nexport default fetchIpData;\r\n"]},"metadata":{},"sourceType":"module"}